# ADR 0006 — Governance للشروحات وExplainability

**التاريخ:** 2025-09-30

**الحالة:** مقترح

## السياق

مع إضافة قدرات شرح متقدمة (`DecisionExplainer`) إلى نظام Zebra، من الضروري وضع سياسة حوكمة واضحة للتحكم في كيفية إنشاء الشروحات وتخزينها واستخدامها. الهدف هو ضمان أن تكون الشروحات مفيدة وآمنة ولا تكشف عن معلومات حساسة.

## القرار

1.  **تخزين الشروحات كـ Artifacts:** يتم تخزين كل شرح يتم إنشاؤه كـ artifact موقّع في مخزن بيانات آمن (مثل object store أو قاعدة بيانات مخصصة). يجب أن يتضمن كل artifact على الأقل:
    *   `decision_id`: معرف القرار الذي يتم شرحه.
    *   `explanation_hash`: هاش لمحتوى الشرح للتحقق من سلامته.
    *   `timestamp`: وقت إنشاء الشرح.
    *   `model_version`: إصدار النموذج المستخدم في الشرح.

2.  **إخفاء معلومات التعريف الشخصية (PII Masking):** يُمنع منعًا باتًا تخزين أي معلومات تعريف شخصية (PII) في الشروحات أو سجلات التدقيق. يجب تطبيق مرشحات تلقائية لإخفاء أو تحييد أي بيانات حساسة قبل إنشاء الشرح.

3.  **تصنيف الشروحات (Explanation Tiers):** تُصنَّف الشروحات إلى فئتين لتلبية احتياجات الجماهير المختلفة:
    *   **Internal:** شرح تفصيلي وموجه للمهندسين والمحللين، يحتوي على جميع التفاصيل الفنية (e.g., SHAP values, causal chains).
    *   **External:** ملخص مبسط وغير فني، موجه لأصحاب المصلحة أو العملاء، يركز على ملخص اللغة الطبيعية (NL summary) والتأثير المتوقع.

4.  **الشرح كمتطلب للقرارات "Actionable":** أي قرار يتم تصنيفه على أنه "Actionable" يجب أن يكون مصحوبًا بشرح داخلي (Internal) وملخص خارجي (External) قبل أن يتم اعتماده للنشر.

5.  **التحقق من Counterfactuals:** لا يمكن الاعتماد على السيناريوهات المضادة للواقع (counterfactuals) التي تم إنشاؤها لاتخاذ قرارات مهمة دون التحقق من صحتها عبر محاكاة منفصلة أو تجربة A/B قصيرة.

## المبررات

*   **الأمان والخصوصية:** تضمن سياسة إخفاء PII حماية بيانات المستخدمين والامتثال للوائح الخصوصية.
*   **الوضوح والشفافية:** يوفر تصنيف الشروحات المستوى المناسب من التفاصيل لكل جمهور، مما يزيد من فهم القرارات والثقة فيها.
*   **المساءلة:** يضمن ربط كل قرار بشرح موثق إمكانية مراجعة وتحليل القرارات السابقة بشكل فعال.

## العواقب

*   **زيادة الحمل على نظام التخزين:** سيتطلب تخزين جميع الشروحات مساحة تخزين إضافية.
*   **تعقيد في سير العمل:** يضيف تصنيف الشروحات والتحقق من Counterfactuals خطوات إضافية إلى عملية اتخاذ القرار.
*   **الحاجة إلى أدوات إضافية:** يتطلب إخفاء PII وتصنيف الشروحات تطوير أو دمج أدوات متخصصة.